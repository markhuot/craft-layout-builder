{% extends "_layouts/cp" %}
{% import "_includes/forms" as forms %}

{% set title %}{{ blockType.id|default(false) ? 'Edit' : 'Create' }} Block Type{% endset %}
{% set fullPageForm = true %}
{% set crumbs = [
    {url: '/admin/settings', label: 'Settings'},
    {url: '/admin/settings/plugins', label: 'Plugins'},
    {url: '/admin/settings/plugins/layoutbuilder', label: 'Layout Builder'},
] %}

{% block content %}
    <input type="hidden" name="blockType[id]" value="{{ blockType.id|default('') }}">

    {{ forms.textField({
        label: 'Title',
        name: 'blockType[title]',
        value: blockType.title|default(''),
        first: true,
        autofocus: true
    }) }}

    <div class="field first">
        <div class="heading">
            <label>Icon</label>
        </div>
        <div class="input ltr">
            <div data-icon-picker data-name="blockType[icon]" data-value="{{ blockType.icon|default('') }}"></div>
        </div>
    </div>

    {% include "_includes/fieldlayoutdesigner" with {
        fieldLayout: craft.app.fields.getLayoutById(blockType.fieldLayoutId|default(false))
    } only %}
{% endblock %}